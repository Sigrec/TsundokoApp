<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
		xmlns:vm="using:Tsundoku.ViewModels"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        x:Class="Tsundoku.Views.PriceAnalysisWindow"
        Icon="\Assets\Icons\Tsundoku-Logo.ico"
        Title="Price Analysis"
		FontFamily="Segoe UI"
		SizeToContent="WidthAndHeight"
        Classes="menu"
		CanResize="False"
		WindowStartupLocation="2"
		KeyboardNavigation.TabNavigation="Cycle"
		x:DataType="vm:PriceAnalysisViewModel">

	<Window.Resources>
		<ResourceDictionary>
			<ResourceDictionary.MergedDictionaries>
				<ResourceInclude Source="/Styles/AddNewSeriesControlThemes.xaml"/>
                <ResourceInclude Source="/Styles/PriceAnalysisControlThemes.xaml"/>
				<ResourceInclude Source="/Styles/WindowControlThemes.xaml"/>
			</ResourceDictionary.MergedDictionaries>
		</ResourceDictionary>
	</Window.Resources>

	<Border Classes="menu" BorderThickness="3" CornerRadius="0,0,8,8" ClipToBounds="True">
		<Grid ColumnDefinitions="Auto,10,Auto,10,Auto" RowDefinitions="Auto,Auto,10,Auto,Auto,10,Auto,10,Auto" Margin="20" ShowGridLines="False">
		<TextBlock Grid.Column="0" Grid.Row="0" Text="Enter Title" FontSize="20" FontWeight="Bold" Foreground="{Binding CurrentTheme.MenuTextColor, Converter={StaticResource ConvertColor}}"/>
		<TextBox Name="TitleBox"
				 Watermark="Title..."
				 Grid.ColumnSpan="3"
				 Grid.Column="0"
				 Grid.Row="1"
				 Classes="menu"
				 Width="390"
				 FontSize="18"
				 FontWeight="Bold"
				 TextWrapping="Wrap"
				 Margin="0"
				 VerticalAlignment="Center"
				 HorizontalAlignment="Center"
				 BorderThickness="2"/>
		<TextBlock Grid.Column="2" Grid.Row="3" Text="Select Browser" FontSize="20" FontWeight="Bold" Foreground="{Binding CurrentTheme.MenuTextColor, Converter={StaticResource ConvertColor}}"/>
		<ComboBox Name="BrowserSelector"
				  Grid.Row="4"
				  Grid.Column="2"
				  SelectionChanged="BrowserChanged"
				  Height="37"
				  Width="182"
				  AutoScrollToSelectedItem="True"
				  HorizontalAlignment="Left"
				  Theme="{StaticResource MenuComboBox}">
			<ComboBoxItem Theme="{StaticResource MenuComboBoxItem}">Chrome</ComboBoxItem>
			<ComboBoxItem Theme="{StaticResource MenuComboBoxItem}">Edge</ComboBoxItem>
			<ComboBoxItem Theme="{StaticResource MenuComboBoxItem}">FireFox</ComboBoxItem>
		</ComboBox>
		<TextBlock Text="Select Book Type"
				   Grid.Row="3" 
				   Grid.Column="0"
				   FontSize="20" 
				   FontWeight="Bold"
				   Foreground="{Binding CurrentTheme.MenuTextColor, Converter={StaticResource ConvertColor}}"/>
		<StackPanel Orientation="Horizontal" Width="180" Grid.Column="0" Grid.Row="4" Spacing="5" HorizontalAlignment="Left">
			<ToggleButton Name="MangaButton"
						  Checked="IsMangaButtonClicked"
						  Theme="{StaticResource QueryToggleButton}"
						  Content="Manga"/>
			<ToggleButton Name="NovelButton"
			  			  Checked="IsNovelButtonClicked"
						  Theme="{StaticResource QueryToggleButton}"
						  Content="Novel"/>
		</StackPanel>
		<TextBlock Grid.Column="4" Grid.Row="0" Grid.RowSpan="4" Text="Select Websites" FontSize="20" FontWeight="Bold" Foreground="{Binding CurrentTheme.MenuTextColor, Converter={StaticResource ConvertColor}}"/>
		<ListBox Name="WebsiteSelector"
				 Theme="{StaticResource QueryListBox}"
				 Grid.Column="4"
				 Grid.Row="1"
				 Grid.RowSpan="6"
				 SelectionMode="Multiple,Toggle"
				 SelectedItems="{CompiledBinding SelectedWebsites}"
				 Height="160"
				 Width="220">
			<!-- <ListBoxItem Theme="{StaticResource QueryListBoxItem}">AmazonUSA</ListBoxItem> -->
			<ListBoxItem Theme="{StaticResource QueryListBoxItem}">BarnesAndNoble</ListBoxItem>
			<ListBoxItem Theme="{StaticResource QueryListBoxItem}">BooksAMillion</ListBoxItem>
			<ListBoxItem Theme="{StaticResource QueryListBoxItem}">InStockTrades</ListBoxItem>
			<ListBoxItem Theme="{StaticResource QueryListBoxItem}">Kinokuniya</ListBoxItem>
			<ListBoxItem Theme="{StaticResource QueryListBoxItem}">RightStufAnime</ListBoxItem>
			<ListBoxItem Theme="{StaticResource QueryListBoxItem}">RobertsAnimeCornerStore</ListBoxItem>
			<!-- <ListBoxItem Theme="{StaticResource QueryListBoxItem}">WorldOfBooks</ListBoxItem> -->
		</ListBox>
		<Button Classes="Menu"
				BorderThickness="2"
				FontWeight="Bold"
				Grid.Column="0"
				Grid.ColumnSpan="3"
				Grid.Row="6"
				Width="150"
				FontSize="18"
				IsEnabled="{CompiledBinding IsAnalyzeButtonEnabled}"
				Theme="{StaticResource MenuButton}"
				Click="PerformAnalysis"
				Content="Analyze"/>
		<!-- TODO Need to add control styling for DataGrid -->
		<DataGrid ItemsSource="{Binding AnalyzedList}"
				  Classes="menu"
				  Name="AnalysisDataGrid"
				  IsReadOnly="True"
				  AutoGenerateColumns="False"
				  HorizontalAlignment="Center"
				  VerticalAlignment="Center"
				  GridLinesVisibility="All"
				  BorderThickness="2"
				  Grid.ColumnSpan="5"
				  Grid.Column="0"
				  Grid.Row="8"
				  BorderBrush="Red">
			<DataGrid.Columns>
				<DataGridTextColumn Header="Entry" Binding="{Binding Entry}"/>
				<DataGridTextColumn Header="Price" Binding="{Binding Price}"/>
				<DataGridTextColumn Header="Stock Status" Binding="{Binding StockStatus}"/>
				<DataGridTextColumn Header="Website" Binding="{Binding Website}"/>
			</DataGrid.Columns>
		</DataGrid>
		</Grid>
	</Border>
</Window>
